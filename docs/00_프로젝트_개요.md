# Cute Pomodoro — 프로젝트 개요

> 귀여운 캐릭터와 함께하는 뽀모도로 타이머 웹 게임

---

## 1. 프로젝트 한줄 설명

집중 세션을 완료하면 코인과 아이템을 획득하고, 캐릭터를 꾸미며, 친구들과 실시간으로 함께 공부할 수 있는 **게임형 뽀모도로 타이머 웹앱**이다.

---

## 2. 핵심 컨셉

| 구분 | 설명 |
|------|------|
| 장르 | 생산성 도구 + 캐릭터 수집 RPG 라이트 |
| 타겟 | 귀여운 것을 좋아하는 10~30대 학습자 |
| 핵심 루프 | 집중 → 보상(코인+아이템) → 캐릭터 꾸미기 → 다시 집중 |
| 차별화 | 뽀모도로 타이머 + 가챠/합성 수집 + 실시간 친구방 |

---

## 3. 주요 기능 (현재 구현)

1. **뽀모도로 타이머** — 집중(25분) / 짧은 휴식(5분) / 긴 휴식(15분), 설정 가능
2. **캐릭터 시스템** — 고양이·여우 중 선택, 배경·악세서리·스킨으로 꾸미기
3. **아이템 수집** — 집중 완료 시 무료 가챠, 상점에서 코인으로 박스 구매
4. **합성 시스템** — 같은 희귀도 아이템 10개 → 1개 합성(확률적 등급 변환)
5. **친구방 (멀티플레이)** — 최대 10명 실시간 집중 현황 공유 및 **아바타(장착 아이템) 실시간 동기화**, 오늘의 집중 시간 랭킹
6. **업적 시스템** — 10종 업적, 달성 시 코인 보상 (현재 속도/시간 관련 2종 미구현)
7. **캘린더** — 집중 세션 히스토리 시각화
8. **클라우드 저장** — 로그인 시 Supabase에 데이터 동기화, 미로그인 게스트 플레이 가능

---

## 4. 현재 개발 상태

| 항목 | 상태 |
|------|------|
| 전체 | 기능 구현 완료, 폴리싱 단계 |
| 타이머 | 완료 |
| 캐릭터 / 꾸미기 | 완료 |
| 아이템 (가챠/상점/인벤토리) | 완료 (순차적 Append 저장으로 안전성 강화) |
| 합성 | 완료 |
| 업적 | 완료 (`ach_speed`, `ach_scholar` 2종 한정 추후 구현 예정) |
| 친구방 | 완료 (캐릭터 프로필 실시간 브로드캐스트 적용) |
| 캘린더 | 완료 |
| 클라우드 동기화 | 완료 |
| 수익화 | 미적용 (현재 완전 무료) |

---

## 5. 기술스택 요약

| 레이어 | 기술 |
|--------|------|
| 프론트엔드 | React 19, TypeScript 5.9, Vite 7 |
| 상태관리 | Zustand 5 (+ persist 미들웨어) |
| 애니메이션 | Framer Motion 12 |
| 백엔드/DB | Supabase (Auth + Postgres + Realtime) |
| 아이콘 | Lucide React |
| 날짜 | date-fns 4 |

---

## 6. 로컬 실행 가이드 (개발자)

### 사전 요구사항
- Node.js 20+
- npm 또는 pnpm

### 실행 방법

```bash
# 1. 저장소 클론
git clone <repo-url>
cd cute_pomodoro

# 2. 패키지 설치
npm install

# 3. 환경변수 설정
# .env.local 파일이 이미 있어야 함 (팀에서 공유)
# 없다면 Supabase 프로젝트 URL과 anon key 필요:
# VITE_SUPABASE_URL=https://xxx.supabase.co
# VITE_SUPABASE_ANON_KEY=eyJ...

# 4. 개발 서버 시작
npm run dev
# → http://localhost:5173

# 5. 빌드
npm run build
```

### 주요 스크립트

| 명령어 | 동작 |
|--------|------|
| `npm run dev` | 개발 서버 (HMR) |
| `npm run build` | 프로덕션 빌드 (dist/) |
| `npm run preview` | 빌드 결과 미리보기 |
| `npm run lint` | ESLint 검사 |

---

## 7. 핵심 파일 지도

```
src/
├── App.tsx                          ← 라우팅, 레이아웃, 게임 핵심 이벤트 처리
├── data/items.ts                    ← 모든 아이템·업적 정의, 가챠·합성 로직
├── features/
│   ├── game/useGameStore.ts         ← 메인 게임 상태 (코인, 인벤토리, 업적, 동기화)
│   ├── timer/useTimerStore.ts       ← 타이머 상태 (모드, 사이클, 남은 시간)
│   ├── auth/useAuthStore.ts         ← 인증 상태 (Supabase Auth)
│   └── room/useRoomStore.ts         ← 친구방 실시간 상태
├── components/
│   ├── timer/TimerDisplay.tsx       ← 타이머 UI
│   ├── character/CharacterView.tsx  ← 캐릭터 렌더링 (장착 아이템 반영)
│   ├── shop/ShopView.tsx            ← 상점 UI (박스 구매)
│   ├── inventory/InventoryView.tsx  ← 인벤토리 UI
│   ├── inventory/CraftingView.tsx   ← 합성 UI
│   ├── room/RoomView.tsx            ← 친구방 UI
│   ├── calendar/CalendarView.tsx    ← 캘린더 UI
│   └── auth/                        ← 로그인/회원가입 UI
└── lib/supabase.ts                  ← Supabase 클라이언트
```

---

## 8. 연락처 / 이슈 관리

- 이슈 및 버그는 GitHub Issues에 등록
- 기획 문서는 `docs/` 디렉토리에서 관리
